hostname access-sw-04
enable secret cisco_access_secret04
username melcy privilege 15 secret cisco
banner motd Authorized Access Only!!!
service password-encryption
ip domain-name cisco.com
crypto key generate rsa usage-keys label ssh-key modulus 1024
line vty 0 4
 password cisco123
 login local
 transport input ssh
vlan 20
 name MGMT
vlan 99
 name NATIVE
vlan 100
 name R&D
vlan 200
 name EMPLOYEE
vlan 300
 name GUEST
vlan 999
 name BLACKHOLE
spanning-tree mode pvst
interface Loopback0
 description LOOPBACK - SSH / BGP
 ip address 172.16.255.7 255.255.255.255
 no shutdown
interface FastEthernet0/1
 switchport trunk encapsulation dot1q
 switchport mode trunk
 switchport trunk native vlan 99
 no shutdown
interface FastEthernet0/2
 switchport trunk encapsulation dot1q
 switchport mode trunk
 switchport trunk native vlan 99
 no shutdown
interface FastEthernet0/3
 switchport mode access
 switchport access vlan 300
 no shutdown
interface FastEthernet0/12
 switchport mode access
 switchport access vlan 200
 no shutdown
 switchport port-security
 switchport port-security maximum 1
 switchport port-security violation shutdown
 switchport port-security mac-address sticky
interface FastEthernet0/13
 switchport mode access
 switchport access vlan 200
 no shutdown
 switchport port-security
 switchport port-security maximum 1
 switchport port-security violation shutdown
 switchport port-security mac-address sticky
interface FastEthernet0/14
 switchport mode access
 switchport access vlan 200
 no shutdown
 switchport port-security
 switchport port-security maximum 1
 switchport port-security violation shutdown
 switchport port-security mac-address sticky
interface FastEthernet0/15
 switchport mode access
 switchport access vlan 200
 no shutdown
 switchport port-security
 switchport port-security maximum 1
 switchport port-security violation shutdown
 switchport port-security mac-address sticky
interface range FastEthernet0/4-11
 switchport mode access
 switchport access vlan 999
 shutdown
interface range FastEthernet0/16-20
 switchport mode access
 switchport access vlan 999
 shutdown
interface FastEthernet0/21
 switchport mode access
 switchport access vlan 100
 no shutdown
 switchport port-security
 switchport port-security maximum 1
 switchport port-security violation shutdown
 switchport port-security mac-address sticky
interface FastEthernet0/22
 switchport mode access
 switchport access vlan 100
 no shutdown
 switchport port-security
 switchport port-security maximum 1
 switchport port-security violation shutdown
 switchport port-security mac-address sticky
interface FastEthernet0/23
 switchport mode access
 switchport access vlan 100
 no shutdown
 switchport port-security
 switchport port-security maximum 1
 switchport port-security violation shutdown
 switchport port-security mac-address sticky
interface FastEthernet0/24
 switchport mode access
 switchport access vlan 100
 no shutdown
 switchport port-security
 switchport port-security maximum 1
 switchport port-security violation shutdown
 switchport port-security mac-address sticky
interface GigabitEthernet0/1
 switchport mode access
 switchport trunk native vlan 999
 shutdown
interface GigabitEthernet0/2
 switchport mode access
 switchport access vlan 999
 shutdown
interface VLAN1
 shutdown
interface VLAN20
 description MANAGEMENT INTERFACE
 ip address 172.16.12.43 255.255.255.224
 no shutdown
ip access-list extended MGMT_VTY_ACL
 remark RESTRICT SSH MANAGEMENT ACCESS
 remark ONLY ALLOW FROM MANAGEMENT VLAN 20
 permit tcp 172.16.12.32 0.0.0.31 any eq 22
 remark ALLOW OTHER TRAFFIC
 permit ip any  any
ip default-gateway 172.16.12.98
end
